header "The Taste Test"

section <<~MSG, markdown: true
  _Flavorpheus sets three small bowls in front of you._

  Alright, one last thing. Every cook here knows the secret ingredient. Let's see if you do too.

  *What makes a dish truly great?*
MSG

wrong_answers = OnboardingScenarios::Flavortown::WRONG_ANSWERS.map.with_index { |(label, _, opts), i| button(label, "flavortown_retry_w#{i}", **(opts || {})) }
terrible_answers = OnboardingScenarios::Flavortown::TERRIBLE_ANSWERS.map.with_index { |(label, _, opts), i| button(label, "flavortown_terrible_t#{i}", **(opts || {})) }
dino_nuggets = OnboardingScenarios::Flavortown::DINO_NUGGETS.then { |(label, action, opts)| button(label, action, **opts) }

love = button("Love", "flavortown_taste_correct", style: "primary")
sampled_terrible = terrible_answers.sample(3)
first_five = [love, *wrong_answers.sample(2), *sampled_terrible.take(2)].shuffle
actions [*first_five, sampled_terrible.last, dino_nuggets].compact
